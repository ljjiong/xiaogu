<!DOCTYPE HTML>
<html>

<head>
	<meta charset="utf-8" />
	<title>新闻资讯-小钴科技官方网站|3D人脸识别|人脸检测|人脸分析|证件识别|身份证识别|视频结构化|图像识别|API|SDK|人证识别|3D门禁|3D楼宇|gco-小钴科技</title>
	<meta name="description" content="小钴科技官方网站|3D人脸识别|人脸检测|人脸分析|证件识别|身份证识别|视频结构化|图像识别|API|SDK|人证识别|认证对比|gco-小钴科技" />
	<meta name="keywords" content="小钴科技官方网站|3D人脸识别|人脸检测|人脸分析|证件识别|身份证识别|视频结构化|图像识别|API|SDK|人证识别|3D门禁|3D楼宇|gco-小钴科技" />
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<meta name="generator" content="MetInfo 5.3.19" data-variable="http://www.xiaogutech.com/|cn|2||2|xiaogu" />
	<link href="__static__/website/img/favicon.ico" rel="shortcut icon" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/metinfo.css" />
	<!--[if IE]><script src="../public/js/html5.js" type="text/javascript"></script><![endif]-->
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?dbdc657b731eb41870ead6ab84e3b2f1";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>

	<link rel="stylesheet" type="text/css" href="__static__/website/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/v1.base.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/v1.header.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/editormd.min.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/page.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/nav.css" />
	<link rel="stylesheet" type="text/css" href="__static__/website/css/font-awesome.min.css" />
	<script src="__static__/website/js/jquery-2.1.4.js" type="text/javascript" charset="utf-8">
	</script>
	<script src="__static__/website/js/modernizr.js" type="text/javascript" charset="utf-8">
	</script>
</head>

<body style="background-color: #fff;font-size: 100%;">
	<!-- 头部导航栏 -->
	{include file="header" /}
	<div id="app">
		
		<nav id="product-subnav" class="sub-nav-wrap-black">
			<div class="container">
				<div class="sub-nav-left">
					<h1 class="title">新闻资讯</h1>
				</div>

				<div class="sub-nav-right">
					<dl class="list-none navnow">
						<dt>
							<a href="news_2.html" title="新闻资讯 " class="zm">
								<span>全部</span>
							</a>
						</dt>
					</dl>
					<dl class="list-none navnow" v-for="(col,index) in trees">
						<dt id='part2_4'><a  :href="'news_2.html?id='+ col.id" title='公司动态' class="zm"><span>{{col.name}}</span></a></dt>
					</dl>
					<!-- <dl class="list-none navnow">
						<dt id='part2_5'><a href='list_5_cn.html' title='业界资讯' class="zm"><span>业界资讯</span></a></dt>
					</dl> -->
				</div>

			</div>
		</nav>
		<div class="met_clear"></div>
		<div class="container">
			<div class="met_module2_list">
				<ul>
					<li class="list_1" v-for="(col,index) in column">
						<h2><a :href="'news.html?id='+col.id" title="{{col.title}}" target='_self'><i
									class="fa fa-caret-right"></i>{{col.title}}</a></h2>
						<span class='time'>{{col.create_time}}</span>
					</li>
				</ul>

				<div class='met_pager'>
					<span class='PreSpan' v-on:click="minuspage">上一页</span>
	                <a href="javascript:void(0);" class="Ahover">{{pagenum}}</a>
	                <span class='NextSpan' v-on:click="addpage">下一页</span>
	                <span>共计:{{pagecount}}页</span>
	                <span class='PageText'>转至第</span>
	                <input type='text' id='metPageT' data-pageurl='list_4_|_cn.html|1' value='1'/>
	                <input type='button' id='metPageB' value='页'/>
				</div>

			</div>
		</div>

	</div>
	<div class="met_clear"></div>
	</section>

	<!-- 底部加css -->
	{include file="footer" /}
	
	<script>
		feather.replace()
		var app = new Vue({
			el: '#app',
			data: {
				column: '',
				trees:{
					name:'',
				},
				pagenum: 1,
	            pagelimit: 10,
	            pagecount: 0,
			},
			mounted: function () {
				$.ajax({
					async: true,
					type: 'POST',
					dataType: 'json',
					data:{
						id:40
					},
					url: '__localhost__/index.php/api_articles/Articlesweb/read_tree',
					success: function (res) {
						console.log(res);
						app.trees = res.data._child;
					},
					error: function (res) {
						console.log(res);
					}
				});
				 $.ajax({
	                // async: true,
	                headers: {
	                    "page-num": this.pagenum,//此处放置请求到的用户token
	                    "page-limit": this.pagelimit,//此处放置请求到的用户token
	                },
	                type: 'POST',
	                dataType: 'json',
	                data: {
	                    // type_id: 0
	                },
	                url: '__localhost__/index.php/api_articles/Articlesweb/articles_list?type_id=' + this.getQueryVariable("id"),
	                success: function (res) {
	                    console.log(res);
	                    app.column = res.data;
	                    app.pagecount = Math.ceil(res.page.data_count / app.pagelimit);
	                },
	                error: function (res) {
	                    console.log(res);
	                }
	            });
			},
			methods: {
				getQueryVariable(variable) {
					var query = window.location.search.substring(1);
					var vars = query.split("&");
					for (var i = 0; i < vars.length; i++) {
						var pair = vars[i].split("=");
						if (pair[0] == variable) { return pair[1]; }
					}
					return (0);
				},
				addpage: function () {
	                if (app.pagecount > app.pagenum) {
	                    app.pagenum++;
	                    this.join()
	                    console.log(app.pagenum)
	                    console.log(app.pagecount)
	                }
	            },
	            minuspage: function () {
	                if (app.pagenum > 1) {
			                app.pagenum--
			                this.join()
			                console.log(app.pagenum)
			            }
		        },
		        join: function () {
		            $.ajax({
		                // async: true,
		                headers: {
		                    "page-num": app.pagenum,//此处放置请求到的用户token
		                    "page-limit": app.pagelimit,//此处放置请求到的用户token
		                },
		                type: 'POST',
		                dataType: 'json',
		                data: {
		                    // type_id: 0
		                },
		                url: '__localhost__/index.php/api_articles/Articlesweb/articles_list?type_id=' + this.getQueryVariable("id"),
		                success: function (res) {
		                    console.log(res);
		                    app.column = res.data;
		                    app.pagecount =  Math.ceil(res.page.data_count / app.pagelimit);
		                },
		                error: function (res) {
		                    console.log(res);
		                }
		            });
		        }
			},
		})
	</script>
</body>

</html>